<!DOCTYPE html>
{% extends 'layout.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css\products\product-details.css' %}" type="text/css">
<style>
    .color-mark:hover {
        box-shadow: 0px 0px 1em {{ item_info.color }}!important;
    }
</style>
{% endblock %}

{% block title %}
{{ item_info.title|dashes_to_spaces }}
{% endblock %}

{% block header %}
    {% include 'main-header.html' %}
{% endblock %}

{% block rootcontent %}
    <div class="page-bg">
            <img src="../../../media/{{ item_info.photo.name }}" class="card-photo">
            <div class="card-info">
                <div class="prod-info">
                    <header class="card-title">
                        <span class="card-product-title">
                            <span
                                style="background-color: {{ item_info.color }};box-shadow: 0px 0px .5em {{ item_info.color }}"
                                class="color-mark"
                                title="item color">
                            </span>
                            <span class="card-info-splitter"></span>
                            <span style="display: flex;flex-direction: column;align-items: flex-start;">
                                {{ item_info.title|dashes_to_spaces }}<br>
                                <span
                                    style="font-size: .8em;background: rgb(150, 150, 150, .5);border-radius: .2em;padding-inline: .2em;">
                                    {{ item_info.products_count }} items
                                </span>
                            </span>
                        </span>
                        <a href="{% url 'account-info' item_info.author.id %}"
                           style="text-decoration: none;font-size: .75em;color: rgb(230, 230, 230)">
                            from {{ item_info.author }}
                        </a>
                    </header>
                </div>
<!--                <div class="cards-list">-->
<!--                    {% for i in items %}-->
<!--                        <div>-->
<!--                            <a href="{% url 'account-info' 'test' %}"-->
<!--                               style="text-decoration: none;color: white">-->
<!--                                author: {{ i.author }}-->
<!--                            </a>-->
<!--                            {{ i.price }}-->
<!--                        </div>-->
<!--                    {% endfor %}-->
<!--                </div>-->
                <div class="purchase" style="{% if viewer_is_author %}grid-template-columns: 1fr;{% endif %}">
                    {% if not viewer_is_author %}
                    <form class="save-form" method="POST"
                          action="{% url 'save-product' item_info.id %}">
                        {% csrf_token %}
                        {% if user.is_authenticated %}
                        <button type="submit" class="button-save">
                                add to basket
                        </button>
                        {% elif not user.is_authenticated %}
                            <button type="submit" class="button-save small-text">
                                login if you like this
                            </button>
                        {% endif %}
                    {% endif %}
                    </form>
                    <div class="price">{{ item_info.price }} $</div>
                </div>
            </div>
    </div>
{% endblock %}
{% block scripts %}
        <script type="text/javascript" src="{% static 'js\products\products-listing.js' %}"></script>
        <script type="text/javascript" src="{% static 'js\products\floated-elements.js' %}"></script>
{% endblock %}