<!DOCTYPE html>
{% extends 'layout.html' %}
{% load static %}

{% block head %}
    {% if filters_required %}
        <link rel="stylesheet" href="{% static 'css\products\products-listing.css' %}" type="text/css">
    {% else %}
        <link rel="stylesheet" href="{% static 'css\products\warns.css' %}" type="text/css">
    {% endif %}
{% endblock %}

{% block title %}
    products
{% endblock %}

{% block header %}
    {% if filters_required %}
        {% include 'products/filters-header.html' %}
    {% else %}
        {% include 'main-header.html' %}
    {% endif %}
{% endblock %}

{% block rootcontent %}
    {% if filters_required %}
        {% if items.count < 3 %}
            <div class="cards" style="height: 100vmin;">
        {% else %}
            <div class="cards">
        {% endif %}
            {% for idx, item in items|enumerate_ %}
                {% if item.is_category %}
                    {% include "products/cards-templates/category-card.html" %}
                {% else %}
                    {% include "products/cards-templates/product-card.html" %}
                {% endif %}
            {% endfor %}
        </div>
        {% include 'products/paginator.html' %}
    {% else %}
        <div class="empty_warn_wrapper ">
            <div class="empty_warn">
                This category is empty!
            </div>
        </div>
    {% endif %}
{% endblock %}
{% block scripts %}
    <script type="text/javascript" src="{% static 'js\products\interval-setter.js' %}"></script>
    <script type="text/javascript" src="{% static 'js\products\products-listing.js' %}"></script>
    <script type="text/javascript" src="{% static 'js\products\filters-window.js' %}"></script>
    {% block products-listing-scripts %}
    {% endblock %}
{% endblock %}
